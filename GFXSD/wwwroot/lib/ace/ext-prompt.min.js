define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(e,t,n){"use strict";function a(e){return"suggest-aria-id:".concat(e)}function c(e){return(e=new i(e)).$maxLines=4,(e=new r(e)).setHighlightActiveLine(!1),e.setShowPrintMargin(!1),e.renderer.setShowGutter(!1),e.renderer.setHighlightGutterLine(!1),e.$mouseHandler.$focusTimeout=0,e.$highlightTagPending=!0,e}function o(e){function t(){}var n=g.createElement("div"),u=c(n);function o(){s(-1)}e&&e.appendChild(n),n.style.display="none",u.renderer.content.style.cursor="default",u.renderer.setStyle("ace_autocomplete"),u.renderer.$textLayer.element.setAttribute("role",f),u.renderer.$textLayer.element.setAttribute("aria-roledescription",m("Autocomplete suggestions")),u.renderer.$textLayer.element.setAttribute("aria-label",m("Autocomplete suggestions")),u.renderer.textarea.setAttribute("aria-hidden","true"),u.setOption("displayIndentGuides",!1),u.setOption("dragDelay",150),u.focus=t,u.$isFocused=!0,u.renderer.$cursorLayer.restartTimer=t,u.renderer.$cursorLayer.element.style.opacity="0",u.renderer.$maxLines=8,u.renderer.$keepTextAreaAtCursor=!1,u.setHighlightActiveLine(!1),u.session.highlight(""),u.session.$searchHighlight.clazz="ace_highlight-marker",u.on("mousedown",function(e){var t=e.getDocumentPosition();u.selection.moveToPosition(t),r.start.row=r.end.row=t.row,e.stop()});var d,i=new l(-1,0,-1,1/0),r=new l(-1,0,-1,1/0),s=(r.id=u.session.addMarker(r,"ace_active-line","fullLine"),u.setSelectOnHover=function(e){e?i.id&&(u.session.removeMarker(i.id),i.id=null):i.id=u.session.addMarker(i,"ace_line-hover","fullLine")},u.setSelectOnHover(!1),u.on("mousemove",function(e){var t;d?d.x==e.x&&d.y==e.y||((d=e).scrollTop=u.renderer.scrollTop,u.isMouseOver=!0,t=d.getDocumentPosition().row,i.start.row!=t&&(i.id||u.setRow(t),s(t))):d=e}),u.renderer.on("beforeRender",function(){var e;d&&-1!=i.start.row&&(d.$pos=null,e=d.getDocumentPosition().row,i.id||u.setRow(e),s(e,!0))}),u.renderer.on("afterRender",function(){var e,t=u.getRow(),n=u.renderer.$textLayer,o=n.element.childNodes[t-n.config.firstRow],i=document.activeElement;o!==u.selectedNode&&u.selectedNode&&(g.removeCssClass(u.selectedNode,"ace_selected"),i.removeAttribute("aria-activedescendant"),u.selectedNode.removeAttribute(v),u.selectedNode.removeAttribute("id")),(u.selectedNode=o)&&(g.addCssClass(o,"ace_selected"),e=a(t),o.id=e,n.element.setAttribute("aria-activedescendant",e),i.setAttribute("aria-activedescendant",e),o.setAttribute("role",b),o.setAttribute("aria-roledescription",m("item")),o.setAttribute("aria-label",u.getData(t).value),o.setAttribute("aria-setsize",u.data.length),o.setAttribute("aria-posinset",t+1),o.setAttribute("aria-describedby","doc-tooltip"),o.setAttribute(v,"true"))}),function(e,t){e!==i.start.row&&(i.start.row=i.end.row=e,t||u.session._emit("changeBackMarker"),u._emit("changeHoverMarker"))});return u.getHoveredRow=function(){return i.start.row},p.addListener(u.container,"mouseout",function(){u.isMouseOver=!1,o()}),u.on("hide",o),u.on("changeSelection",o),u.session.doc.getLength=function(){return u.data.length},u.session.doc.getLine=function(e){e=u.data[e];return"string"==typeof e?e:e&&e.value||""},(e=u.session.bgTokenizer).$tokenizeRow=function(e){function t(e,t){e&&o.push({type:(n.className||"")+(t||""),value:e})}var n=u.data[e],o=[];if(!n)return o;for(var i=(n="string"==typeof n?{value:n}:n).caption||n.value||n.name,r=i.toLowerCase(),s=(u.filterText||"").toLowerCase(),a=0,c=0,l=0;l<=s.length;l++)if(l!=c&&(n.matchMask&1<<l||l==s.length)){var p=s.slice(c,l),c=l,h=r.indexOf(p,a);if(-1==h)continue;t(i.slice(a,h),""),a=h+p.length,t(i.slice(h,a),"completion-highlight")}return t(i.slice(a,i.length),""),o.push({type:"completion-spacer",value:" "}),n.meta&&o.push({type:"completion-meta",value:n.meta}),n.message&&o.push({type:"completion-message",value:n.message}),o},e.$updateOnChange=t,e.start=t,u.session.$computeWidth=function(){return this.screenWidth=0},u.isOpen=!1,u.isTopdown=!1,u.autoSelect=!0,u.filterText="",u.isMouseOver=!1,u.data=[],u.setData=function(e,t){u.filterText=t||"",u.setValue(h.stringRepeat("\n",e.length),-1),u.data=e||[],u.setRow(0)},u.getData=function(e){return u.data[e]},u.getRow=function(){return r.start.row},u.setRow=function(e){e=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,e)),r.start.row!=e&&(u.selection.clearSelection(),r.start.row=r.end.row=e||0,u.session._emit("changeBackMarker"),u.moveCursorTo(e||0,0),u.isOpen&&u._signal("select"))},u.on("changeSelection",function(){u.isOpen&&u.setRow(u.selection.lead.row),u.renderer.scrollCursorIntoView()}),u.hide=function(){this.container.style.display="none",u.anchorPos=null,u.anchor=null,u.isOpen&&(u.isOpen=!1,this._signal("hide"))},u.tryShow=function(e,t,n,o){if(!o&&u.isOpen&&u.anchorPos&&u.anchor&&u.anchorPos.top===e.top&&u.anchorPos.left===e.left&&u.anchor===n)return!0;var i=this.container,r=window.innerHeight,s=window.innerWidth,a=this.renderer,c=a.$maxLines*t*1.4,l={top:0,bottom:0,left:0},p=r-e.top-3*this.$borderSize-t,h=e.top-3*this.$borderSize,t=("top"===(n=n||(h<=p||c<=p?"bottom":"top"))?(l.bottom=e.top-this.$borderSize,l.top=l.bottom-c):"bottom"===n&&(l.top=e.top+t+this.$borderSize,l.bottom=l.top+c),0<=l.top&&l.bottom<=r);if(!o&&!t)return!1;a.$maxPixelHeight=t?null:"top"===n?h:p,"top"===n?(i.style.top="",i.style.bottom=r-l.bottom+"px",u.isTopdown=!1):(i.style.top=l.top+"px",i.style.bottom="",u.isTopdown=!0),i.style.display="";c=e.left;return c+i.offsetWidth>s&&(c=s-i.offsetWidth),i.style.left=c+"px",i.style.right="",u.isOpen||(u.isOpen=!0,this._signal("show"),d=null),u.anchorPos=e,u.anchor=n,!0},u.show=function(e,t,n){this.tryShow(e,t,n?"bottom":void 0,!0)},u.goTo=function(e){var t=this.getRow(),n=this.session.getLength()-1;switch(e){case"up":t=t<=0?n:t-1;break;case"down":t=n<=t?-1:t+1;break;case"start":t=0;break;case"end":t=n}this.setRow(t)},u.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},u.$imageSize=0,u.$borderSize=1,u}var i=e("../virtual_renderer").VirtualRenderer,r=e("../editor").Editor,l=e("../range").Range,p=e("../lib/event"),h=e("../lib/lang"),g=e("../lib/dom"),m=e("../config").nls,e=e("./../lib/useragent"),f=e.isSafari?"menu":"listbox",b=e.isSafari?"menuitem":"option",v=e.isSafari?"aria-current":"aria-selected";g.importCssString('\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #CAD6FA;\n    z-index: 1;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #3a674e;\n}\n.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid #abbffe;\n    margin-top: -1px;\n    background: rgba(233,233,253,0.4);\n    position: absolute;\n    z-index: 2;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid rgba(109, 150, 13, 0.8);\n    background: rgba(58, 103, 78, 0.62);\n}\n.ace_completion-meta {\n    opacity: 0.5;\n    margin-left: 0.9em;\n}\n.ace_completion-message {\n    margin-left: 0.9em;\n    color: blue;\n}\n.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #2d69c7;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #93ca12;\n}\n.ace_editor.ace_autocomplete {\n    width: 300px;\n    z-index: 200000;\n    border: 1px lightgray solid;\n    position: fixed;\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n    line-height: 1.4;\n    background: #fefefe;\n    color: #111;\n}\n.ace_dark.ace_editor.ace_autocomplete {\n    border: 1px #484747 solid;\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\n    line-height: 1.4;\n    background: #25282c;\n    color: #c1c1c1;\n}\n.ace_autocomplete .ace_text-layer  {\n    width: calc(100% - 8px);\n}\n.ace_autocomplete .ace_line {\n    display: flex;\n    align-items: center;\n}\n.ace_autocomplete .ace_line > * {\n    min-width: 0;\n    flex: 0 0 auto;\n}\n.ace_autocomplete .ace_line .ace_ {\n    flex: 0 1 auto;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n.ace_autocomplete .ace_completion-spacer {\n    flex: 1;\n}\n.ace_autocomplete.ace_loading:after  {\n    content: "";\n    position: absolute;\n    top: 0px;\n    height: 2px;\n    width: 8%;\n    background: blue;\n    z-index: 100;\n    animation: ace_progress 3s infinite linear;\n    animation-delay: 300ms;\n    transform: translateX(-100%) scaleX(1);\n}\n@keyframes ace_progress {\n    0% { transform: translateX(-100%) scaleX(1) }\n    50% { transform: translateX(625%) scaleX(2) } \n    100% { transform: translateX(1500%) scaleX(3) } \n}\n@media (prefers-reduced-motion) {\n    .ace_autocomplete.ace_loading:after {\n        transform: translateX(625%) scaleX(2);\n        animation: none;\n     }\n}\n',"autocompletion.css",!1),t.AcePopup=o,t.$singleLineEditor=c,t.getAriaId=a}),define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(e,s,t){"use strict";function n(e){e=(new Date).toLocaleString("en-us",e);return 1==e.length?"0"+e:e}var o=e("./lib/dom"),i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,l=e("./lib/lang"),p=e("./range").Range,h=e("./range_list").RangeList,a=e("./keyboard/hash_handler").HashHandler,c=e("./tokenizer").Tokenizer,u=e("./clipboard"),d={CURRENT_WORD:function(e){return e.session.getTextRange(e.session.getWordRange())},SELECTION:function(e,t,n){e=e.session.getTextRange();return n?e.replace(/\n\r?([ \t]*\S)/g,"\n"+n+"$1"):e},CURRENT_LINE:function(e){return e.session.getLine(e.getCursorPosition().row)},PREV_LINE:function(e){return e.session.getLine(e.getCursorPosition().row-1)},LINE_INDEX:function(e){return e.getCursorPosition().row},LINE_NUMBER:function(e){return e.getCursorPosition().row+1},SOFT_TABS:function(e){return e.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(e){return e.session.getTabSize()},CLIPBOARD:function(e){return u.getText&&u.getText()},FILENAME:function(e){return/[^/\\]*$/.exec(this.FILEPATH(e))[0]},FILENAME_BASE:function(e){return/[^/\\]*$/.exec(this.FILEPATH(e))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(e){return this.FILEPATH(e).replace(/[^/\\]*$/,"")},FILEPATH:function(e){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(e){e=e.session.$mode||{};return e.blockComment&&e.blockComment.start||""},BLOCK_COMMENT_END:function(e){e=e.session.$mode||{};return e.blockComment&&e.blockComment.end||""},LINE_COMMENT:function(e){return(e.session.$mode||{}).lineCommentStart||""},CURRENT_YEAR:n.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:n.bind(null,{year:"2-digit"}),CURRENT_MONTH:n.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:n.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:n.bind(null,{month:"short"}),CURRENT_DATE:n.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:n.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:n.bind(null,{weekday:"short"}),CURRENT_HOUR:n.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:n.bind(null,{minute:"2-digit"}),CURRENT_SECOND:n.bind(null,{second:"2-digit"})},g=(d.SELECTED_TEXT=d.SELECTION,m.prototype.getTokenizer=function(){return m.$tokenizer||this.createTokenizer()},m.prototype.createTokenizer=function(){function o(e){return e=e.substr(1),/^\d+$/.test(e)?[{tabstopId:parseInt(e,10)}]:[{text:e}]}function e(e){return"(?:[^\\\\"+e+"]|\\\\.)"}var t={regex:"/("+e("/")+"+)/",onMatch:function(e,t,n){n=n[0];return n.fmtString=!0,n.guard=e.slice(1,-1),n.flag=""},next:"formatString"};return m.$tokenizer=new c({start:[{regex:/\\./,onMatch:function(e,t,n){var o=e[1];return[e="}"==o&&n.length||-1!="`$\\".indexOf(o)?o:e]}},{regex:/}/,onMatch:function(e,t,n){return[n.length?n.shift():e]}},{regex:/\$(?:\d+|\w+)/,onMatch:o},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(e,t,n){e=o(e.substr(1));return n.unshift(e[0]),e},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+e("\\|")+"*\\|",onMatch:function(e,t,n){e=e.slice(1,-1).replace(/\\[,|\\]|,/g,function(e){return 2==e.length?e[1]:"\0"}).split("\0").map(function(e){return{value:e}});return[(n[0].choices=e)[0]]},next:"start"},t,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(e,t,n){return n.length&&n[0].expectElse?(n[0].expectElse=!1,n[0].ifEnd={elseEnd:n[0]},[n[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(e,t,n){var o=e[1];return"}"==o&&n.length||-1!="`$\\".indexOf(o)?e=o:"n"==o?e="\n":"t"==o?e="\t":-1!="ulULE".indexOf(o)&&(e={changeCase:o,local:"a"<o}),[e]}},{regex:"/\\w*}",onMatch:function(e,t,n){n=n.shift();return n&&(n.flag=e.slice(1,-1)),this.next=n&&n.tabstopId?"start":"",[n||e]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(e,t,n){return[{text:e.slice(1)}]}},{regex:/\${\w+/,onMatch:function(e,t,n){e={text:e.slice(2)};return n.unshift(e),[e]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(e,t,n){n=n.shift();return this.next=n&&n.tabstopId?"start":"",[n||e]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(e,t,n){return n[0].formatFunction=e.slice(2,-1),[n.shift()]},next:"formatString"},t,{regex:/:[\?\-+]?/,onMatch:function(e,t,n){"+"==e[1]&&(n[0].ifEnd=n[0]),"?"==e[1]&&(n[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]})},m.prototype.tokenizeTmSnippet=function(e,t){return this.getTokenizer().getLineTokens(e,t).tokens.map(function(e){return e.value||e})},m.prototype.getVariableValue=function(e,t,n){if(/^\d+$/.test(t))return(this.variables.__||{})[t]||"";if(/^[A-Z]\d+$/.test(t))return(this.variables[t[0]+"__"]||{})[t.substr(1)]||"";if(t=t.replace(/^TM_/,""),!this.variables.hasOwnProperty(t))return"";var o=this.variables[t];return null==(o="function"==typeof o?this.variables[t](e,t,n):o)?"":o},m.prototype.tmStrFormat=function(e,t,s){if(!t.fmt)return e;var n=t.flag||"",o=t.guard,o=new RegExp(o,n.replace(/[^gim]/g,"")),a="string"==typeof t.fmt?this.tokenizeTmSnippet(t.fmt,"formatString"):t.fmt,c=this;return e.replace(o,function(){for(var e=c.variables.__,t=(c.variables.__=[].slice.call(arguments),c.resolveVariables(a,s)),n="E",o=0;o<t.length;o++){var i,r=t[o];"object"==typeof r?(t[o]="",r.changeCase&&r.local?(i=t[o+1])&&"string"==typeof i&&("u"==r.changeCase?t[o]=i[0].toUpperCase():t[o]=i[0].toLowerCase(),t[o+1]=i.substr(1)):r.changeCase&&(n=r.changeCase)):"U"==n?t[o]=r.toUpperCase():"L"==n&&(t[o]=r.toLowerCase())}return c.variables.__=e,t.join("")})},m.prototype.tmFormatFunction=function(e,t,n){return"upcase"==t.formatFunction?e.toUpperCase():"downcase"==t.formatFunction?e.toLowerCase():e},m.prototype.resolveVariables=function(t,e){function n(e){e=t.indexOf(e,s+1);-1!=e&&(s=e)}for(var o=[],i="",r=!0,s=0;s<t.length;s++){var a,c=t[s];"string"==typeof c?(o.push(c),"\n"==c?(r=!0,i=""):r&&(i=/^\t*/.exec(c)[0],r=/\S/.test(c))):c&&(r=!1,c.fmtString&&(-1==(a=t.indexOf(c,s+1))&&(a=t.length),c.fmt=t.slice(s+1,a),s=a),c.text?(a=this.getVariableValue(e,c.text,i)+"",c.fmtString&&(a=this.tmStrFormat(a,c,e)),(a=c.formatFunction?this.tmFormatFunction(a,c,e):a)&&!c.ifEnd?(o.push(a),n(c)):!a&&c.ifEnd&&n(c.ifEnd)):c.elseEnd?n(c.elseEnd):null==c.tabstopId&&null==c.changeCase||o.push(c))}return o},m.prototype.getDisplayTextForSnippet=function(e,t){return f.call(this,e,t).text},m.prototype.insertSnippetForSelection=function(e,t,n){var t=f.call(this,e,t,n=void 0===n?{}:n),n=e.getSelectionRange(),o=e.session.replace(n,t.text),i=new b(e),e=e.inVirtualSelectionMode&&e.selection.index;i.addTabstops(t.tabstops,n.start,o,e)},m.prototype.insertSnippet=function(e,t,n){void 0===n&&(n={});var o=this;if(e.inVirtualSelectionMode)return o.insertSnippetForSelection(e,t,n);e.forEachSelection(function(){o.insertSnippetForSelection(e,t,n)},null,{keepOrder:!0}),e.tabstopManager&&e.tabstopManager.tabNext()},m.prototype.$getScope=function(e){var t,n=e.session.$mode.$id||"";return"html"!==(n=n.split("/").pop())&&"php"!==n||("php"!==n||e.session.$mode.inlinePhp||(n="html"),t=e.getCursorPosition(),(e="object"==typeof(e=e.session.getState(t.row))?e[0]:e).substring&&("js-"==e.substring(0,3)?n="javascript":"css-"==e.substring(0,4)?n="css":"php-"==e.substring(0,4)&&(n="php"))),n},m.prototype.getActiveScopes=function(e){var e=this.$getScope(e),t=[e],n=this.snippetMap;return n[e]&&n[e].includeScopes&&t.push.apply(t,n[e].includeScopes),t.push("_"),t},m.prototype.expandWithTab=function(e,t){var n=this,o=e.forEachSelection(function(){return n.expandSnippetForSelection(e,t)},null,{keepOrder:!0});return o&&e.tabstopManager&&e.tabstopManager.tabNext(),o},m.prototype.expandSnippetForSelection=function(e,t){var n,o=e.getCursorPosition(),i=e.session.getLine(o.row),r=i.substring(0,o.column),s=i.substr(o.column),a=this.snippetMap;return this.getActiveScopes(e).some(function(e){e=a[e];return!!(n=e?this.findMatchingSnippet(e,r,s):n)},this),!!n&&(t&&t.dryRun||(e.session.doc.removeInLine(o.row,o.column-n.replaceBefore.length,o.column+n.replaceAfter.length),this.variables.M__=n.matchBefore,this.variables.T__=n.matchAfter,this.insertSnippetForSelection(e,n.content),this.variables.M__=this.variables.T__=null),!0)},m.prototype.findMatchingSnippet=function(e,t,n){for(var o=e.length;o--;){var i=e[o];if((!i.startRe||i.startRe.test(t))&&((!i.endRe||i.endRe.test(n))&&(i.startRe||i.endRe)))return i.matchBefore=i.startRe?i.startRe.exec(t):[""],i.matchAfter=i.endRe?i.endRe.exec(n):[""],i.replaceBefore=i.triggerRe?i.triggerRe.exec(t)[0]:"",i.replaceAfter=i.endTriggerRe?i.endTriggerRe.exec(n)[0]:"",i}},m.prototype.register=function(t,o){function i(e){return(e=e&&!/^\^?\(.*\)\$?$|^\\b$/.test(e)?"(?:"+e+")":e)||""}function r(e,t,n){return e=i(e),t=i(t),n?(e=t+e)&&"$"!=e[e.length-1]&&(e+="$"):(e+=t)&&"^"!=e[0]&&(e="^"+e),new RegExp(e)}function n(e){e.scope||(e.scope=o||"_"),o=e.scope,s[o]||(s[o]=[],a[o]={});var t,n=a[o];e.name&&((t=n[e.name])&&c.unregister(t),n[e.name]=e),s[o].push(e),e.prefix&&(e.tabTrigger=e.prefix),!e.content&&e.body&&(e.content=Array.isArray(e.body)?e.body.join("\n"):e.body),e.tabTrigger&&!e.trigger&&(!e.guard&&/^\w/.test(e.tabTrigger)&&(e.guard="\\b"),e.trigger=l.escapeRegExp(e.tabTrigger)),(e.trigger||e.guard||e.endTrigger||e.endGuard)&&(e.startRe=r(e.trigger,e.guard,!0),e.triggerRe=new RegExp(e.trigger),e.endRe=r(e.endTrigger,e.endGuard,!0),e.endTriggerRe=new RegExp(e.endTrigger))}var s=this.snippetMap,a=this.snippetNameMap,c=this;t=t||[],Array.isArray(t)?t.forEach(n):Object.keys(t).forEach(function(e){n(t[e])}),this._signal("registerSnippets",{scope:o})},m.prototype.unregister=function(e,n){function t(e){var t=i[e.scope||n];t&&t[e.name]&&(delete t[e.name],0<=(e=(t=o[e.scope||n])&&t.indexOf(e))&&t.splice(e,1))}var o=this.snippetMap,i=this.snippetNameMap;e.content?t(e):Array.isArray(e)&&e.forEach(t)},m.prototype.parseSnippetFile=function(e){e=e.replace(/\r/g,"");for(var t,n,o,i=[],r={},s=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;n=s.exec(e);){if(n[1])try{r=JSON.parse(n[1]),i.push(r)}catch(e){}n[4]?(r.content=n[4].replace(/^\t/gm,""),i.push(r),r={}):(t=n[2],n=n[3],"regex"==t?(r.guard=(o=/\/((?:[^\/\\]|\\.)*)|$/g).exec(n)[1],r.trigger=o.exec(n)[1],r.endTrigger=o.exec(n)[1],r.endGuard=o.exec(n)[1]):"snippet"==t?(r.tabTrigger=n.match(/^\S*/)[0],r.name||(r.name=n)):t&&(r[t]=n))}return i},m.prototype.getSnippetByName=function(t,e){var n,o=this.snippetNameMap;return this.getActiveScopes(e).some(function(e){e=o[e];return!!(n=e?e[t]:n)},this),n},m);function m(){this.snippetMap={},this.snippetNameMap={},this.variables=d}i.implement(g.prototype,r);var f=function(e,t,n){void 0===n&&(n={});var o=e.getCursorPosition(),i=e.session.getLine(o.row),r=e.session.getTabString(),s=i.match(/^\s*/)[0],a=(o.column<s.length&&(s=s.slice(0,o.column)),t=t.replace(/\r/g,""),this.tokenizeTmSnippet(t));a=(a=this.resolveVariables(a,e)).map(function(e){return"\n"!=e||n.excludeExtraIndent?"string"==typeof e?e.replace(/\t/g,r):e:e+s});for(var c=[],l=(a.forEach(function(e,t){var n,o;"object"==typeof e&&(o=e.tabstopId,(n=c[o])||((n=c[o]=[]).index=o,n.value="",n.parents={}),-1===n.indexOf(e)&&(e.choices&&!n.choices&&(n.choices=e.choices),n.push(e),-1!==(o=a.indexOf(e,t+1))&&((e=a.slice(t+1,o)).some(function(e){return"object"==typeof e})&&!n.value?n.value=e:!e.length||n.value&&"string"==typeof n.value||(n.value=e.join("")))))}),c.forEach(function(e){e.length=0}),{}),p=0;p<a.length;p++){var h,u,d,g=a[p];"object"==typeof g&&(d=g.tabstopId,h=c[d],u=a.indexOf(g,p+1),l[d]?l[d]===g&&(delete l[d],Object.keys(l).forEach(function(e){h.parents[e]=!0})):(l[d]=g,"string"!=typeof(d=h.value)?d=function(e){for(var t=[],n=0;n<e.length;n++){if("object"==typeof(o=e[n])){if(l[o.tabstopId])continue;var o=t[e.lastIndexOf(o,n-1)]||{tabstopId:o.tabstopId}}t[n]=o}return t}(d):g.fmt&&(d=this.tmStrFormat(d,g,e)),a.splice.apply(a,[p+1,Math.max(0,u-p)].concat(d,g)),-1===h.indexOf(g)&&h.push(g)))}var m=0,f=0,b="";return a.forEach(function(e){var t;"string"==typeof e?(1<(t=e.split("\n")).length?(f=t[t.length-1].length,m+=t.length-1):f+=e.length,b+=e):e&&(e.start?e.end={row:m,column:f}:e.start={row:m,column:f})}),{text:b,tabstops:c,tokens:a}},b=(v.prototype.attach=function(e){this.$openTabstops=null,this.selectedTabstop=null,this.editor=e,this.session=e.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},v.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},v.prototype.onChange=function(e){for(var t="r"==e.action[0],n=this.selectedTabstop||{},o=n.parents||{},i=this.tabstops.slice(),r=0;r<i.length;r++){var s=i[r],a=s==n||o[s.index];if(s.rangeList.$bias=a?0:1,"remove"==e.action&&s!==n)for(var a=s.parents&&s.parents[n.index],c=(c=s.rangeList.pointIndex(e.start,a))<0?-c-1:c+1,a=(a=s.rangeList.pointIndex(e.end,a))<0?-a-1:a-1,l=s.rangeList.ranges.slice(c,a),p=0;p<l.length;p++)this.removeRange(l[p]);s.rangeList.$onChange(e)}var h=this.session;this.$inChange||!t||1!=h.getLength()||h.getValue()||this.detach()},v.prototype.updateLinkedFields=function(){var e=this.selectedTabstop;if(e&&e.hasLinkedRanges&&e.firstNonLinked){this.$inChange=!0;for(var t=this.session,n=t.getTextRange(e.firstNonLinked),o=0;o<e.length;o++){var i,r=e[o];r.linked&&(i=r.original,i=s.snippetManager.tmStrFormat(n,i,this.editor),t.replace(r,i))}this.$inChange=!1}},v.prototype.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},v.prototype.onChangeSelection=function(){if(this.editor){for(var e=this.editor.selection.lead,t=this.editor.selection.anchor,n=this.editor.selection.isEmpty(),o=0;o<this.ranges.length;o++)if(!this.ranges[o].linked){var i=this.ranges[o].contains(e.row,e.column),r=n||this.ranges[o].contains(t.row,t.column);if(i&&r)return}this.detach()}},v.prototype.onChangeSession=function(){this.detach()},v.prototype.tabNext=function(e){var t=this.tabstops.length,e=this.index+(e||1),e=Math.min(Math.max(e,1),t);this.selectTabstop(e=e==t?0:e),0===e&&this.detach()},v.prototype.selectTabstop=function(e){this.$openTabstops=null;var t=this.tabstops[this.index];if(t&&this.addTabstopMarkers(t),this.index=e,(t=this.tabstops[this.index])&&t.length){e=(this.selectedTabstop=t).firstNonLinked||t;if(t.choices&&(e.cursor=e.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(e);else{var n=this.editor.multiSelect;n.toSingleRange(e);for(var o=0;o<t.length;o++)t.hasLinkedRanges&&t[o].linked||n.addRange(t[o].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},v.prototype.addTabstops=function(e,s,t){var a=this.useLink||!this.editor.getOption("enableMultiselect");this.$openTabstops||(this.$openTabstops=[]),e[0]||(t=p.fromPoints(t,t),x(t.start,s),x(t.end,s),e[0]=[t],e[0].index=0);var c=[this.index+1,0],l=this.ranges;e.forEach(function(e,t){for(var n=this.$openTabstops[t]||e,o=0;o<e.length;o++){var i=e[o],r=p.fromPoints(i.start,i.end||i.start);y(r.start,s),y(r.end,s),r.original=i,r.tabstop=n,l.push(r),n!=e?n.unshift(r):n[o]=r,i.fmtString||n.firstNonLinked&&a?(r.linked=!0,n.hasLinkedRanges=!0):n.firstNonLinked||(n.firstNonLinked=r)}n.firstNonLinked||(n.hasLinkedRanges=!1),n===e&&(c.push(n),this.$openTabstops[t]=n),this.addTabstopMarkers(n),n.rangeList=n.rangeList||new h,n.rangeList.$bias=0,n.rangeList.addList(n)},this),2<c.length&&(this.tabstops.length&&c.push(c.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,c))},v.prototype.addTabstopMarkers=function(e){var t=this.session;e.forEach(function(e){e.markerId||(e.markerId=t.addMarker(e,"ace_snippet-marker","text"))})},v.prototype.removeTabstopMarkers=function(e){var t=this.session;e.forEach(function(e){t.removeMarker(e.markerId),e.markerId=null})},v.prototype.removeRange=function(e){var t=e.tabstop.indexOf(e);-1!=t&&e.tabstop.splice(t,1),-1!=(t=this.ranges.indexOf(e))&&this.ranges.splice(t,1),-1!=(t=e.tabstop.rangeList.ranges.indexOf(e))&&e.tabstop.splice(t,1),this.session.removeMarker(e.markerId),e.tabstop.length||(-1!=(t=this.tabstops.indexOf(e.tabstop))&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())},v);function v(e){if(this.index=0,this.ranges=[],this.tabstops=[],e.tabstopManager)return e.tabstopManager;(e.tabstopManager=this).$onChange=this.onChange.bind(this),this.$onChangeSelection=l.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(e)}b.prototype.keyboardHandler=new a,b.prototype.keyboardHandler.bindKeys({Tab:function(e){s.snippetManager&&s.snippetManager.expandWithTab(e)||(e.tabstopManager.tabNext(1),e.renderer.scrollCursorIntoView())},"Shift-Tab":function(e){e.tabstopManager.tabNext(-1),e.renderer.scrollCursorIntoView()},Esc:function(e){e.tabstopManager.detach()}});var y=function(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row},x=function(e,t){e.row==t.row&&(e.column-=t.column),e.row-=t.row},i=(o.importCssString("\n.ace_snippet-marker {\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    background: rgba(194, 193, 208, 0.09);\n    border: 1px dotted rgba(211, 208, 235, 0.62);\n    position: absolute;\n}","snippets.css",!1),s.snippetManager=new g,e("./editor").Editor);!function(){this.insertSnippet=function(e,t){return s.snippetManager.insertSnippet(this,e,t)},this.expandSnippet=function(e){return s.snippetManager.expandWithTab(this,e)}}.call(i.prototype)}),define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(e,t,n){"use strict";function o(e){this.editor=e,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}o.prototype.setScreenReaderContent=function(e){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",function(){var e=this.popup.getRow(),t=this.popup.renderer.$textLayer,e=t.element.childNodes[e-t.config.firstRow];if(e){for(var n="doc-tooltip ",o=0;o<this._lines.length;o++)n+="ace-inline-screenreader-line-".concat(o," ");e.setAttribute("aria-describedby",n)}}.bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=e.split(/\r\n|\r|\n/);e=this.createCodeBlock();this.screenReaderDiv.appendChild(e)},o.prototype.destroy=function(){this.screenReaderDiv.remove()},o.prototype.createCodeBlock=function(){var e=document.createElement("pre");e.setAttribute("id","ace-inline-screenreader");for(var t=0;t<this._lines.length;t++){var n=document.createElement("code"),o=(n.setAttribute("id","ace-inline-screenreader-line-".concat(t)),document.createTextNode(this._lines[t]));n.appendChild(o),e.appendChild(n)}return e},t.AceInlineScreenReader=o}),define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(e,t,n){"use strict";var i=e("../snippets").snippetManager,r=e("./inline_screenreader").AceInlineScreenReader;function o(){this.editor=null}o.prototype.show=function(e,t,n){if(n=n||"",e&&this.editor&&this.editor!==e&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!e||!t)return!1;this.inlineScreenReader||(this.inlineScreenReader=new r(e));var o=t.snippet?i.getDisplayTextForSnippet(e,t.snippet):t.value;return!(t.hideInlinePreview||!o||!o.startsWith(n))&&(this.editor=e,this.inlineScreenReader.setScreenReaderContent(o),""===(o=o.slice(n.length))?e.removeGhostText():e.setGhostText(o),!0)},o.prototype.isOpen=function(){return!!this.editor&&!!this.editor.renderer.$ghostText},o.prototype.hide=function(){return!!this.editor&&(this.editor.removeGhostText(),!0)},o.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},t.AceInline=o}),define("ace/autocomplete/util",["require","exports","module"],function(e,t,n){"use strict";t.parForEach=function(e,t,n){var o=0,i=e.length;0===i&&n();for(var r=0;r<i;r++)t(e[r],function(e,t){++o===i&&n(e,t)})};var r=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;t.retrievePrecedingIdentifier=function(e,t,n){n=n||r;for(var o=[],i=t-1;0<=i&&n.test(e[i]);i--)o.push(e[i]);return o.reverse().join("")},t.retrieveFollowingIdentifier=function(e,t,n){n=n||r;for(var o=[],i=t;i<e.length&&n.test(e[i]);i++)o.push(e[i]);return o},t.getCompletionPrefix=function(e){var t,n=e.getCursorPosition(),o=e.session.getLine(n.row);return e.completers.forEach(function(e){e.identifierRegexps&&e.identifierRegexps.forEach(function(e){!t&&e&&(t=this.retrievePrecedingIdentifier(o,n.column,e))}.bind(this))}.bind(this)),t||this.retrievePrecedingIdentifier(o,n.column)},t.triggerAutocomplete=function(e){var t=e.getCursorPosition(),n=e.session.getLine(t.row)[0===t.column?0:t.column-1];return e.completers.some(function(e){if(e.triggerCharacters&&Array.isArray(e.triggerCharacters))return e.triggerCharacters.includes(n)})}}),define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(e,t,n){"use strict";function o(e,t){t.completer&&t.completer.destroy()}var i=e("./keyboard/hash_handler").HashHandler,r=e("./autocomplete/popup").AcePopup,s=e("./autocomplete/inline").AceInline,a=e("./autocomplete/popup").getAriaId,l=e("./autocomplete/util"),c=e("./lib/lang"),p=e("./lib/dom"),h=e("./snippets").snippetManager,u=e("./config"),d=e("./lib/event"),g=e("./lib/scroll").preventParentScroll,m=(Object.defineProperty(f,"completionsForLoading",{get:function(){return[{caption:u.nls("Loading..."),value:""}]},enumerable:!1,configurable:!0}),f.prototype.$init=function(){return this.popup=new r(this.parentNode||document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),d.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},f.prototype.$initInline=function(){if(this.inlineEnabled&&!this.inlineRenderer)return this.inlineRenderer=new s,this.inlineRenderer},f.prototype.getPopup=function(){return this.popup||this.$init()},f.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},f.prototype.$seen=function(e){!this.hasSeen.has(e)&&e&&e.completer&&e.completer.onSeen&&"function"==typeof e.completer.onSeen&&(e.completer.onSeen(this.editor,e),this.hasSeen.add(e))},f.prototype.$onPopupChange=function(e){var t;this.inlineRenderer&&this.inlineEnabled?(e=e?null:this.popup.getData(this.popup.getRow()),t=l.getCompletionPrefix(this.editor),this.inlineRenderer.show(this.editor,e,t)?this.$seen(e):this.inlineRenderer.hide(),this.popup.isMouseOver&&this.setSelectOnHover?this.tooltipTimer.call(null,null):(this.popupTimer.schedule(),this.tooltipTimer.schedule())):(this.popupTimer.call(null,null),this.tooltipTimer.call(null,null))},f.prototype.$onPopupRender=function(){var e=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&0<this.completions.filtered.length)for(var t=this.popup.getFirstVisibleRow();t<=this.popup.getLastVisibleRow();t++){var n=this.popup.getData(t);!n||e&&!n.hideInlinePreview||this.$seen(n)}},f.prototype.$onPopupShow=function(e){this.$onPopupChange(e),this.stickySelection=!1,0<=this.stickySelectionDelay&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},f.prototype.observeLayoutChanges=function(){if(!this.$elements&&this.editor){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var e=this.editor.container.parentNode,t=[];e;)t.push(e),e.addEventListener("scroll",this.onLayoutChange,{passive:!0}),e=e.parentNode;this.$elements=t}},f.prototype.unObserveLayoutChanges=function(){var t=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(e){e.removeEventListener("scroll",t.onLayoutChange,{passive:!0})}),this.$elements=null},f.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},f.prototype.$updatePopupPosition=function(){var e=this.editor,t=e.renderer,n=t.layerConfig.lineHeight,o=t.$cursorLayer.getPixelPosition(this.base,!0),i=(o.left-=this.popup.getTextLeftOffset(),e.container.getBoundingClientRect()),i=(o.top+=i.top-t.layerConfig.offset,o.left+=i.left-e.renderer.scrollLeft,o.left+=t.gutterWidth,{top:o.top,left:o.left}),t=(t.$ghostText&&t.$ghostTextWidget&&this.base.row===t.$ghostText.position.row&&(i.top+=t.$ghostTextWidget.el.offsetHeight),e.container.getBoundingClientRect().bottom-n),e=t<i.top?{top:t,left:i.left}:i;this.popup.tryShow(e,n,"bottom")||this.popup.tryShow(o,n,"top")||this.popup.show(o,n)},f.prototype.openPopup=function(e,t,n){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var o,i=this.popup.getRow(),r=this.popup.data[i];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:a(this.popup.getRow()),inline:this.inlineEnabled}),e.keyBinding.addKeyboardHandler(this.keyboardHandler),(o=this.stickySelection?this.popup.data.indexOf(r):o)&&-1!==o||(o=0),this.popup.setRow(this.autoSelect?o:-1),o===i&&r!==this.completions.filtered[o]&&this.$onPopupChange(),n?t||this.detach():(this.popup.setTheme(e.getTheme()),this.popup.setFontSize(e.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},f.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},f.prototype.changeListener=function(e){var t=this.editor.selection.lead;(t.row!=this.base.row||t.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},f.prototype.blurListener=function(e){var t=document.activeElement,n=this.editor.textInput.getElement(),o=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget),i=this.popup&&this.popup.container;t==n||t.parentNode==i||o||t==this.tooltipNode||e.relatedTarget==n||this.detach()},f.prototype.mousedownListener=function(e){this.detach()},f.prototype.mousewheelListener=function(e){this.popup.isMouseOver||this.detach()},f.prototype.mouseOutListener=function(e){this.popup.isOpen&&this.$updatePopupPosition()},f.prototype.goTo=function(e){this.popup.goTo(e)},f.prototype.insertMatch=function(e,t){if(!(e=e||this.popup.getData(this.popup.getRow())))return!1;if(""===e.value)return this.detach();var n=this.completions,e=this.getCompletionProvider().insertMatch(this.editor,e,n.filterText,t);return this.completions==n&&this.detach(),e},f.prototype.showPopup=function(e,t){this.editor&&this.detach(),this.activated=!0,(this.editor=e).completer!=this&&(e.completer&&e.completer.detach(),e.completer=this),e.on("changeSelection",this.changeListener),e.on("blur",this.blurListener),e.on("mousedown",this.mousedownListener),e.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,t)},f.prototype.getCompletionProvider=function(e){return this.completionProvider||(this.completionProvider=new b(e)),this.completionProvider},f.prototype.gatherCompletions=function(e,t){return this.getCompletionProvider().gatherCompletions(e,t)},f.prototype.updateCompletions=function(s,e){if(s&&this.base&&this.completions)return t=this.editor.getCursorPosition(),(n=this.editor.session.getTextRange({start:this.base,end:t}))==this.completions.filterText?void 0:(this.completions.setFilter(n),this.completions.filtered.length&&(1!=this.completions.filtered.length||this.completions.filtered[0].value!=n||this.completions.filtered[0].snippet)?void this.openPopup(this.editor,n,s):this.detach());if(e&&e.matches)return t=this.editor.getSelectionRange().start,this.base=this.editor.session.doc.createAnchor(t.row,t.column),this.base.$insertRight=!0,this.completions=new v(e.matches),this.openPopup(this.editor,"",s);var e=this.editor.getSession(),t=this.editor.getCursorPosition(),n=l.getCompletionPrefix(this.editor),e=(this.base=e.doc.createAnchor(t.row,t.column-n.length),this.base.$insertRight=!0,{exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption});this.getCompletionProvider({prefix:n,pos:t}).provideCompletions(this.editor,e,function(e,t,n){var o,i=t.filtered,r=l.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),n){if(!i.length)return(o="function"==typeof(o=!this.autoShown&&this.emptyMessage)?this.emptyMessage(r):o)?(this.completions=new v([{caption:o,value:""}]),this.openPopup(this.editor,r,s),void this.popup.renderer.setStyle("ace_loading",!1)):this.detach();if(1==i.length&&i[0].value==r&&!i[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&1==i.length)return this.insertMatch(i[0])}this.completions=!n&&this.showLoadingState?new v(f.completionsForLoading.concat(i),t.filterText):t,this.openPopup(this.editor,r,s),this.popup.renderer.setStyle("ace_loading",!n)}.bind(this)),!this.showLoadingState||this.autoShown||this.popup&&this.popup.isOpen||this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},f.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},f.prototype.updateDocTooltip=function(){var e=this.popup,t=this.completions.filtered,n=t&&(t[e.getHoveredRow()]||t[e.getRow()]),o=null;if(!n||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var i=this.editor.completers.length,r=0;r<i;r++){var s=this.editor.completers[r];if(s.getDocTooltip&&n.completerId===s.id){o=s.getDocTooltip(n);break}}if(!(o="string"==typeof(o=o||"string"==typeof n?o:n)?{docText:o}:o)||!o.docHTML&&!o.docText)return this.hideDocTooltip();this.showDocTooltip(o)},f.prototype.showDocTooltip=function(e){this.tooltipNode||(this.tooltipNode=p.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",g));var t=this.editor.renderer.theme,t=(this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(t.isDark?"ace_dark ":"")+(t.cssClass||""),this.tooltipNode),e=(e.docHTML?t.innerHTML=e.docHTML:e.docText&&(t.textContent=e.docText),t.parentNode||this.popup.container.appendChild(this.tooltipNode),this.popup),n=e.container.getBoundingClientRect();t.style.top=e.container.style.top,t.style.bottom=e.container.style.bottom,t.style.display="block",window.innerWidth-n.right<320?n.left<320?(e.isTopdown?t.style.top=n.bottom+"px":t.style.top=e.container.offsetTop-t.offsetHeight+"px",t.style.left=n.left+"px",t.style.right="",t.style.bottom=""):(t.style.right=window.innerWidth-n.left+"px",t.style.left=""):(t.style.left=n.right+1+"px",t.style.right="")},f.prototype.hideDocTooltip=function(){var e;this.tooltipTimer.cancel(),this.tooltipNode&&(e=this.tooltipNode,this.editor.isFocused()||document.activeElement!=e||this.editor.focus(),this.tooltipNode=null,e.parentNode&&e.parentNode.removeChild(e))},f.prototype.onTooltipClick=function(e){for(var t=e.target;t&&t!=this.tooltipNode;){if("A"==t.nodeName&&t.href){t.rel="noreferrer",t.target="_blank";break}t=t.parentNode}},f.prototype.destroy=function(){var e;this.detach(),this.popup&&(this.popup.destroy(),(e=this.popup.container)&&e.parentNode&&e.parentNode.removeChild(e)),this.editor&&this.editor.completer==this&&(this.editor.off("destroy",o),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},f);function f(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new i,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=c.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=c.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=c.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=c.delayedCall(function(){this.stickySelection=!0}.bind(this),this.stickySelectionDelay),this.$firstOpenTimer=c.delayedCall(function(){var e=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!e||0===this.editor.completers.length||(this.completions=new v(f.completionsForLoading),this.openPopup(this.editor,e.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}.bind(this),this.stickySelectionDelay)}m.prototype.commands={Up:function(e){e.completer.goTo("up")},Down:function(e){e.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(e){e.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(e){e.completer.goTo("end")},Esc:function(e){e.completer.detach()},Return:function(e){return e.completer.insertMatch()},"Shift-Return":function(e){e.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(e){var t=e.completer.insertMatch();if(t||e.tabstopManager)return t;e.completer.goTo("down")},PageUp:function(e){e.completer.popup.gotoPageUp()},PageDown:function(e){e.completer.popup.gotoPageDown()}},m.for=function(e){return e.completer instanceof m||(e.completer&&(e.completer.destroy(),e.completer=null),u.get("sharedPopups")?(m.$sharedInstance||(m.$sharedInstance=new m),e.completer=m.$sharedInstance):(e.completer=new m,e.once("destroy",o))),e.completer},m.startCommand={name:"startAutocomplete",exec:function(e,t){var n=m.for(e);n.autoInsert=!1,n.autoSelect=!0,n.autoShown=!1,n.showPopup(e,t),n.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};x.prototype.insertByIndex=function(e,t,n){return!(!this.completions||!this.completions.filtered)&&this.insertMatch(e,this.completions.filtered[t],n)},x.prototype.insertMatch=function(e,t,n){if(!t)return!1;if(e.startOperation({command:{name:"insertMatch"}}),t.completer&&t.completer.insertMatch)t.completer.insertMatch(e,t);else{if(!this.completions)return!1;var o=this.completions.filterText.length,i=0;if(t.range&&t.range.start.row===t.range.end.row&&(o=(o-=this.initialPosition.prefix.length)+(this.initialPosition.pos.column-t.range.start.column),i+=t.range.end.column-this.initialPosition.pos.column),o||i)for(var r,s=e.selection.getAllRanges?e.selection.getAllRanges():[e.getSelectionRange()],a=0;r=s[a];a++)r.start.column-=o,r.end.column+=i,e.session.remove(r);t.snippet?h.insertSnippet(e,t.snippet):this.$insertString(e,t),t.completer&&t.completer.onInsert&&"function"==typeof t.completer.onInsert&&t.completer.onInsert(e,t),t.command&&"startAutocomplete"===t.command&&e.execCommand(t.command)}return e.endOperation(),!0},x.prototype.$insertString=function(e,t){t=t.value||t;e.execCommand("insertstring",t)},x.prototype.gatherCompletions=function(o,i){var t=o.getSession(),r=o.getCursorPosition(),s=l.getCompletionPrefix(o),a=[],c=(this.completers=o.completers,o.completers.length);return o.completers.forEach(function(n,e){n.getCompletions(o,t,r,s,function(e,t){n.hideInlinePreview&&(t=t.map(function(e){return Object.assign(e,{hideInlinePreview:n.hideInlinePreview})})),!e&&t&&(a=a.concat(t)),i(null,{prefix:l.getCompletionPrefix(o),matches:a,finished:0==--c})})}),!0},x.prototype.provideCompletions=function(e,o,i){var n=function(e){var t=e.prefix,n=e.matches;this.completions=new v(n),o.exactMatch&&(this.completions.exactMatch=!0),o.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(t),(e.finished||this.completions.filtered.length)&&i(null,this.completions,e.finished)}.bind(this),r=!0,s=null;this.gatherCompletions(e,function(e,t){this.active&&(e&&(i(e,[],!0),this.detach()),0===t.prefix.indexOf(t.prefix)&&(r?s=t:n(t)))}.bind(this)),r=!1,s&&(e=s,s=null,n(e))},x.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(e){"function"==typeof e.cancel&&e.cancel()})};var b=x,v=(y.prototype.setFilter=function(e){t=e.length>this.filterText&&0===e.lastIndexOf(this.filterText,0)?this.filtered:this.all,this.filterText=e,t=(t=this.filterCompletions(t,this.filterText)).sort(function(e,t){return t.exactMatch-e.exactMatch||t.$score-e.$score||(e.caption||e.value).localeCompare(t.caption||t.value)});var t,n=null;t=t.filter(function(e){e=e.snippet||e.caption||e.value;return e!==n&&(n=e,!0)}),this.filtered=t},y.prototype.filterCompletions=function(e,t){var n=[],o=t.toUpperCase(),i=t.toLowerCase();e:for(var r,s=0;r=e[s];s++){var a=!this.ignoreCaption&&r.caption||r.value||r.snippet;if(a){var c=-1,l=0,p=0;if(this.exactMatch){if(t!==a.substr(0,t.length))continue}else{var h=a.toLowerCase().indexOf(i);if(-1<h)p=h;else for(var u=0;u<t.length;u++){var d=a.indexOf(i[u],c+1),g=a.indexOf(o[u],c+1);if((d=0<=d&&(g<0||d<g)?d:g)<0)continue e;0<(g=d-c-1)&&(-1===c&&(p+=10),p+=g,l|=1<<u),c=d}}r.matchMask=l,r.exactMatch=p?0:1,r.$score=(r.score||0)-p,n.push(r)}}return n},y);function y(e,t){this.all=e,this.filtered=e,this.filterText=t||"",this.exactMatch=!1,this.ignoreCaption=!1}function x(e){this.initialPosition=e,this.active=!0}t.Autocomplete=m,t.CompletionProvider=b,t.FilteredList=v}),define("ace/ext/menu_tools/settings_menu.css",["require","exports","module"],function(e,t,n){n.exports="#ace_settingsmenu, #kbshortcutmenu {\n    background-color: #F7F7F7;\n    color: black;\n    box-shadow: -5px 4px 5px rgba(126, 126, 126, 0.55);\n    padding: 1em 0.5em 2em 1em;\n    overflow: auto;\n    position: absolute;\n    margin: 0;\n    bottom: 0;\n    right: 0;\n    top: 0;\n    z-index: 9991;\n    cursor: default;\n}\n\n.ace_dark #ace_settingsmenu, .ace_dark #kbshortcutmenu {\n    box-shadow: -20px 10px 25px rgba(126, 126, 126, 0.25);\n    background-color: rgba(255, 255, 255, 0.6);\n    color: black;\n}\n\n.ace_optionsMenuEntry:hover {\n    background-color: rgba(100, 100, 100, 0.1);\n    transition: all 0.3s\n}\n\n.ace_closeButton {\n    background: rgba(245, 146, 146, 0.5);\n    border: 1px solid #F48A8A;\n    border-radius: 50%;\n    padding: 7px;\n    position: absolute;\n    right: -8px;\n    top: -8px;\n    z-index: 100000;\n}\n.ace_closeButton{\n    background: rgba(245, 146, 146, 0.9);\n}\n.ace_optionsMenuKey {\n    color: darkslateblue;\n    font-weight: bold;\n}\n.ace_optionsMenuCommand {\n    color: darkcyan;\n    font-weight: normal;\n}\n.ace_optionsMenuEntry input, .ace_optionsMenuEntry button {\n    vertical-align: middle;\n}\n\n.ace_optionsMenuEntry button[ace_selected_button=true] {\n    background: #e7e7e7;\n    box-shadow: 1px 0px 2px 0px #adadad inset;\n    border-color: #adadad;\n}\n.ace_optionsMenuEntry button {\n    background: white;\n    border: 1px solid lightgray;\n    margin: 0px;\n}\n.ace_optionsMenuEntry button:hover{\n    background: #f0f0f0;\n}"}),define("ace/ext/menu_tools/overlay_page",["require","exports","module","ace/lib/dom","ace/ext/menu_tools/settings_menu.css"],function(e,t,n){"use strict";var o=e("../../lib/dom"),e=e("./settings_menu.css");o.importCssString(e,"settings_menu.css",!1),n.exports.overlayPage=function(e,t,n){function o(e){27===e.keyCode&&i()}function i(){r&&(document.removeEventListener("keydown",o),r.parentNode.removeChild(r),e&&e.focus(),r=null,n&&n())}var r=document.createElement("div"),s=!1;return r.style.cssText="margin: 0; padding: 0; position: fixed; top:0; bottom:0; left:0; right:0;z-index: 9990; "+(e?"background-color: rgba(0, 0, 0, 0.3);":""),r.addEventListener("click",function(e){s||i()}),document.addEventListener("keydown",o),t.addEventListener("click",function(e){e.stopPropagation()}),r.appendChild(t),document.body.appendChild(r),e&&e.blur(),{close:i,setIgnoreFocusOut:function(e){(s=e)&&(r.style.pointerEvents="none",t.style.pointerEvents="auto")}}}}),define("ace/ext/modelist",["require","exports","module"],function(e,t,n){"use strict";var o,i=[],r=(l.prototype.supportsFile=function(e){return e.match(this.extRe)},l),s={ABAP:["abap"],ABC:["abc"],ActionScript:["as"],ADA:["ada|adb"],Alda:["alda"],Apache_Conf:["^htaccess|^htgroups|^htpasswd|^conf|htaccess|htgroups|htpasswd"],Apex:["apex|cls|trigger|tgr"],AQL:["aql"],AsciiDoc:["asciidoc|adoc"],ASL:["dsl|asl|asl.json"],Assembly_x86:["asm|a"],Astro:["astro"],AutoHotKey:["ahk"],BatchFile:["bat|cmd"],BibTeX:["bib"],C_Cpp:["cpp|c|cc|cxx|h|hh|hpp|ino"],C9Search:["c9search_results"],Cirru:["cirru|cr"],Clojure:["clj|cljs"],Cobol:["CBL|COB"],coffee:["coffee|cf|cson|^Cakefile"],ColdFusion:["cfm|cfc"],Crystal:["cr"],CSharp:["cs"],Csound_Document:["csd"],Csound_Orchestra:["orc"],Csound_Score:["sco"],CSS:["css"],Curly:["curly"],Cuttlefish:["conf"],D:["d|di"],Dart:["dart"],Diff:["diff|patch"],Django:["djt|html.djt|dj.html|djhtml"],Dockerfile:["^Dockerfile"],Dot:["dot"],Drools:["drl"],Edifact:["edi"],Eiffel:["e|ge"],EJS:["ejs"],Elixir:["ex|exs"],Elm:["elm"],Erlang:["erl|hrl"],Flix:["flix"],Forth:["frt|fs|ldr|fth|4th"],Fortran:["f|f90"],FSharp:["fsi|fs|ml|mli|fsx|fsscript"],FSL:["fsl"],FTL:["ftl"],Gcode:["gcode"],Gherkin:["feature"],Gitignore:["^.gitignore"],Glsl:["glsl|frag|vert"],Gobstones:["gbs"],golang:["go"],GraphQLSchema:["gql"],Groovy:["groovy"],HAML:["haml"],Handlebars:["hbs|handlebars|tpl|mustache"],Haskell:["hs"],Haskell_Cabal:["cabal"],haXe:["hx"],Hjson:["hjson"],HTML:["html|htm|xhtml|vue|we|wpy"],HTML_Elixir:["eex|html.eex"],HTML_Ruby:["erb|rhtml|html.erb"],INI:["ini|conf|cfg|prefs"],Io:["io"],Ion:["ion"],Jack:["jack"],Jade:["jade|pug"],Java:["java"],JavaScript:["js|jsm|jsx|cjs|mjs"],JEXL:["jexl"],JSON:["json"],JSON5:["json5"],JSONiq:["jq"],JSP:["jsp"],JSSM:["jssm|jssm_state"],JSX:["jsx"],Julia:["jl"],Kotlin:["kt|kts"],LaTeX:["tex|latex|ltx|bib"],Latte:["latte"],LESS:["less"],Liquid:["liquid"],Lisp:["lisp"],LiveScript:["ls"],Log:["log"],LogiQL:["logic|lql"],Logtalk:["lgt"],LSL:["lsl"],Lua:["lua"],LuaPage:["lp"],Lucene:["lucene"],Makefile:["^Makefile|^GNUmakefile|^makefile|^OCamlMakefile|make"],Markdown:["md|markdown"],Mask:["mask"],MATLAB:["matlab"],Maze:["mz"],MediaWiki:["wiki|mediawiki"],MEL:["mel"],MIPS:["s|asm"],MIXAL:["mixal"],MUSHCode:["mc|mush"],MySQL:["mysql"],Nasal:["nas"],Nginx:["nginx|conf"],Nim:["nim"],Nix:["nix"],NSIS:["nsi|nsh"],Nunjucks:["nunjucks|nunjs|nj|njk"],ObjectiveC:["m|mm"],OCaml:["ml|mli"],Odin:["odin"],PartiQL:["partiql|pql"],Pascal:["pas|p"],Perl:["pl|pm"],pgSQL:["pgsql"],PHP:["php|inc|phtml|shtml|php3|php4|php5|phps|phpt|aw|ctp|module"],PHP_Laravel_blade:["blade.php"],Pig:["pig"],PLSQL:["plsql"],Powershell:["ps1"],Praat:["praat|praatscript|psc|proc"],Prisma:["prisma"],Prolog:["plg|prolog"],Properties:["properties"],Protobuf:["proto"],PRQL:["prql"],Puppet:["epp|pp"],Python:["py"],QML:["qml"],R:["r"],Raku:["raku|rakumod|rakutest|p6|pl6|pm6"],Razor:["cshtml|asp"],RDoc:["Rd"],Red:["red|reds"],RHTML:["Rhtml"],Robot:["robot|resource"],RST:["rst"],Ruby:["rb|ru|gemspec|rake|^Guardfile|^Rakefile|^Gemfile"],Rust:["rs"],SaC:["sac"],SASS:["sass"],SCAD:["scad"],Scala:["scala|sbt"],Scheme:["scm|sm|rkt|oak|scheme"],Scrypt:["scrypt"],SCSS:["scss"],SH:["sh|bash|^.bashrc"],SJS:["sjs"],Slim:["slim|skim"],Smarty:["smarty|tpl"],Smithy:["smithy"],snippets:["snippets"],Soy_Template:["soy"],Space:["space"],SPARQL:["rq"],SQL:["sql"],SQLServer:["sqlserver"],Stylus:["styl|stylus"],SVG:["svg"],Swift:["swift"],Tcl:["tcl"],Terraform:["tf","tfvars","terragrunt"],Tex:["tex"],Text:["txt"],Textile:["textile"],Toml:["toml"],TSX:["tsx"],Turtle:["ttl"],Twig:["twig|swig"],Typescript:["ts|mts|cts|typescript|str"],Vala:["vala"],VBScript:["vbs|vb"],Velocity:["vm"],Verilog:["v|vh|sv|svh"],VHDL:["vhd|vhdl"],Visualforce:["vfp|component|page"],Wollok:["wlk|wpgm|wtest"],XML:["xml|rdf|rss|wsdl|xslt|atom|mathml|mml|xul|xbl|xaml"],XQuery:["xq"],YAML:["yaml|yml"],Zeek:["zeek|bro"]},a={ObjectiveC:"Objective-C",CSharp:"C#",golang:"Go",C_Cpp:"C and C++",Csound_Document:"Csound Document",Csound_Orchestra:"Csound",Csound_Score:"Csound Score",coffee:"CoffeeScript",HTML_Ruby:"HTML (Ruby)",HTML_Elixir:"HTML (Elixir)",FTL:"FreeMarker",PHP_Laravel_blade:"PHP (Blade Template)",Perl6:"Perl 6",AutoHotKey:"AutoHotkey / AutoIt"},c={};function l(e,t,n){this.name=e,this.caption=t,this.mode="ace/mode/"+e,this.extensions=n,t=/\^/.test(n)?n.replace(/\|(\^)?/g,function(e,t){return"$|"+(t?"^":"^.*\\.")})+"$":"^.*\\.("+n+")$",this.extRe=new RegExp(t,"gi")}for(o in s){var p=s[o],h=(a[o]||o).replace(/_/g," "),u=o.toLowerCase(),h=new r(u,h,p[0]);c[u]=h,i.push(h)}n.exports={getModeForPath:function(e){for(var t=c.text,n=e.split(/[\/\\]/).pop(),o=0;o<i.length;o++)if(i[o].supportsFile(n)){t=i[o];break}return t},modes:i,modesByName:c}}),define("ace/ext/prompt",["require","exports","module","ace/config","ace/range","ace/lib/dom","ace/autocomplete","ace/autocomplete/popup","ace/autocomplete/popup","ace/undomanager","ace/tokenizer","ace/ext/menu_tools/overlay_page","ace/ext/modelist"],function(e,t,n){"use strict";function u(e,t,n,o){function i(){var e=l&&0<l.getCursorPosition().row?a():p.getValue(),t=l?l.getData(l.getRow()):e;t&&!t.error&&(r(),n.onAccept&&n.onAccept({value:e,item:t},p))}function r(){h.close(),o&&o(),d=null}function s(){var e,t;n.getCompletions&&(n.getPrefix&&(e=n.getPrefix(p)),t=n.getCompletions(p),l.setData(t,e),l.resize(!0))}function a(){var e=l.getData(l.getRow());if(e&&!e.error)return e.value||e.caption||e}if("object"==typeof t)return u(e,"",t,n);if(d){var c=d;if(e=c.editor,c.close(),c.name&&c.name==n.name)return}if(n.$type)return u[n.$type](e,o);var l,p=f(),c=(p.session.setUndoManager(new b),g.buildDom(["div",{class:"ace_prompt_container"+(n.hasDescription?" input-box-with-description":"")}])),h=y(e,c,r),c=(c.appendChild(p.container),e&&(e.cmdLine=p).setOption("fontSize",e.getOption("fontSize")),t&&p.setValue(t,1),n.selection&&p.selection.setRange({start:p.session.doc.indexToPosition(n.selection[0]),end:p.session.doc.indexToPosition(n.selection[1])}),n.getCompletions&&((l=new m).renderer.setStyle("ace_autocomplete_inline"),l.container.style.display="block",l.container.style.maxWidth="600px",l.container.style.width="100%",l.container.style.marginTop="3px",l.renderer.setScrollMargin(2,2,0,0),l.autoSelect=!1,l.renderer.$maxLines=15,l.setRow(-1),l.on("click",function(e){var t=l.getData(l.getRow());t.error||(p.setValue(t.value||t.name||t),i(),e.stop())}),c.appendChild(l.container),s()),n.$rules&&(t=new v(n.$rules),p.session.bgTokenizer.setTokenizer(t)),n.placeholder&&p.setOption("placeholder",n.placeholder),n.hasDescription&&(t=g.buildDom(["div",{class:"ace_prompt_text_container"}]),g.buildDom(n.prompt||"Press 'Enter' to confirm or 'Escape' to cancel",t),c.appendChild(t)),h.setIgnoreFocusOut(n.ignoreFocusOut),{Enter:i,"Esc|Shift-Esc":function(){n.onCancel&&n.onCancel(p.getValue(),p),r()}});l&&Object.assign(c,{Up:function(e){l.goTo("up"),a()},Down:function(e){l.goTo("down"),a()},"Ctrl-Up|Ctrl-Home":function(e){l.goTo("start"),a()},"Ctrl-Down|Ctrl-End":function(e){l.goTo("end"),a()},Tab:function(e){l.goTo("down"),a()},PageUp:function(e){l.gotoPageUp(),a()},PageDown:function(e){l.gotoPageDown(),a()}}),p.commands.bindKeys(c),p.on("input",function(){n.onInput&&n.onInput(),s()}),p.resize(!0),l&&l.resize(!0),p.focus(),d={close:r,name:n.name,editor:e}}var d,r=e("../config").nls,a=e("../range").Range,g=e("../lib/dom"),s=e("../autocomplete").FilteredList,m=e("../autocomplete/popup").AcePopup,f=e("../autocomplete/popup").$singleLineEditor,b=e("../undomanager").UndoManager,v=e("../tokenizer").Tokenizer,y=e("./menu_tools/overlay_page").overlayPage,o=e("./modelist");u.gotoLine=function(s,e){var t;u(s,":"+(t=s.selection.toJSON(),(t=Array.isArray(t)?t:[t]).map(function(e){var t=e.isBackwards?e.start:e.end,e=e.isBackwards?e.end:e.start,n=e.row+1+":"+e.column;return e.row==t.row?e.column!=t.column&&(n+=">:"+t.column):n+=">"+(t.row+1)+":"+t.column,n}).reverse().join(", ")),{name:"gotoLine",selection:[1,Number.MAX_VALUE],onAccept:function(e){var e=e.value,t=u.gotoLine._history,r=(t||(u.gotoLine._history=t=[]),-1!=t.indexOf(e)&&t.splice(t.indexOf(e),1),t.unshift(e),20<t.length&&(t.length=20),s.getCursorPosition()),n=[],t=(e.replace(/^:/,"").split(/,/).map(function(e){function t(){var e=o[i++];if(e){if("c"==e[0])return t=parseInt(e.slice(1))||0,s.session.doc.indexToPosition(t);var t=r.row,n=0;return/\d/.test(e)&&(t=parseInt(e)-1,e=o[i++]),":"==e&&(e=o[i++],/\d/.test(e)&&(n=parseInt(e)||0)),{row:t,column:n}}}var o=e.split(/([<>:+-]|c?\d+)|[^c\d<>:+-]+/).filter(Boolean),i=0,e=(r=t(),a.fromPoints(r,r));">"==o[i]?(i++,e.end=t()):"<"==o[i]&&(i++,e.start=t()),n.unshift(e)}),s.selection.fromJSON(n),s.renderer.scrollTop);s.renderer.scrollSelectionIntoView(s.selection.anchor,s.selection.cursor,.5),s.renderer.animateScrolling(t)},history:function(){return u.gotoLine._history||[]},getCompletions:function(e){var e=e.getValue(),t=e.replace(/^:/,"").split(":"),t=Math.min(parseInt(t[0])||1,s.session.getLength())-1;return[e+"  "+s.session.getLine(t)].concat(this.history())},$rules:{start:[{regex:/\d+/,token:"string"},{regex:/[:,><+\-c]/,token:"keyword"}]}})},u.commands=function(n,e){a=["insertstring","inserttext","setIndentation","paste"],c=[],l={},n.keyBinding.$handlers.forEach(function(e){var t,n=e.platform,o=e.byName;for(t in o){var i=o[t].bindKey,r=("string"!=typeof i&&(i=i&&i[n]||""),o[t]),s=r.description||(r.name||"").replace(/^./,function(e){return e.toUpperCase(e)}).replace(/[a-z][A-Z]/g,function(e){return e[0]+" "+e[1].toLowerCase(e)});(r=Array.isArray(r)?r:[r]).forEach(function(t){"string"!=typeof t&&(t=t.name),a.find(function(e){return e===t})||(l[t]?l[t].key+="|"+i:(l[t]={key:i,command:t,description:s},c.push(l[t])))})}});var a,c,l,i=(i=c).map(function(e){return{value:e.description,meta:e.key,command:e.command}});u(n,"",{name:"commands",selection:[0,Number.MAX_VALUE],maxHistoryCount:5,onAccept:function(e){var t;e.item&&(t=e.item.command,this.addToHistory(e.item),n.execCommand(t))},addToHistory:function(e){var t=this.history();t.unshift(e),delete e.message;for(var n=1;n<t.length;n++)if(t[n].command==e.command){t.splice(n,1);break}0<this.maxHistoryCount&&t.length>this.maxHistoryCount&&t.splice(t.length-1,1),u.commands.history=t},history:function(){return u.commands.history||[]},getPrefix:function(e){var t=e.getCursorPosition();return e.getValue().substring(0,t.column)},getCompletions:function(e){function t(e,t){e=JSON.parse(JSON.stringify(e));return new s(e).filterCompletions(e,t)}var e=this.getPrefix(e),n=t(this.history(),e),o=t(o=function(e,t){if(!t||!t.length)return e;var n=[],o=(t.forEach(function(e){n.push(e.command)}),[]);return e.forEach(function(e){-1===n.indexOf(e.command)&&o.push(e)}),o}(i,n),e),e=(n.length&&o.length&&(n[0].message=r("Recently used"),o[0].message=r("Other commands")),n.concat(o));return 0<e.length?e:[{value:r("No matching commands"),error:1}]}})},g.importCssString(".ace_prompt_container {\n    max-width: 603px;\n    width: 100%;\n    margin: 20px auto;\n    padding: 3px;\n    background: white;\n    border-radius: 2px;\n    box-shadow: 0px 2px 3px 0px #555;\n}","promtp.css",!(u.modes=function(t,e){var n=(n=o.modes).map(function(e){return{value:e.caption,mode:e.name}});u(t,"",{name:"modes",selection:[0,Number.MAX_VALUE],onAccept:function(e){e.item&&(e="ace/mode/"+e.item.mode,t.session.setMode(e))},getPrefix:function(e){var t=e.getCursorPosition();return e.getValue().substring(0,t.column)},getCompletions:function(e){var e=this.getPrefix(e),t=(t=n,e=e,t=JSON.parse(JSON.stringify(t)),new s(t).filterCompletions(t,e));return 0<t.length?t:[{caption:"No mode matching",value:"No mode matching",error:1}]}})})),t.prompt=u}),window.require(["ace/ext/prompt"],function(e){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=e)});